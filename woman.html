<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä¸‰å…«å¦‡å¥³èŠ‚å¿«ä¹</title>
    <style>
        /* ä¿æŒåŸæœ‰æ ·å¼ä¸å˜ */
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŒ· å¦‡å¥³èŠ‚å¿«ä¹ ğŸŒ·</h1>
        
        <div class="flowers">
            <!-- èŠ±æœµç”±JSç”Ÿæˆ -->
        </div>

        <div class="message">
            <p>äº²çˆ±çš„å¥³æ€§æœ‹å‹ä»¬ï¼š</p>
            <p>æ„¿ä½ ä»¬çœ¼ä¸­æœ‰å…‰ï¼Œå¿ƒä¸­æœ‰çˆ±ï¼Œ</p>
            <p>æ´»å‡ºè‡ªå·±æœ€ç¾çš„æ¨¡æ ·ã€‚</p>
            <p>æ„Ÿè°¢ä½ ä»¬è®©ä¸–ç•Œæ›´åŠ æ¸©æš–ç¾å¥½ï¼</p>
            <p>ğŸ’ èŠ‚æ—¥å¿«ä¹ ğŸ’</p>
        </div>
    </div>

    <script>
        // ä¿®å¤åçš„éŸ³ä¹æ’­æ”¾é€»è¾‘
        let audio = null;
        let playButton = null;
        
        const initMusic = () => {
            // æ›´æ¢ä¸ºå¯é çš„éŸ³ä¹é“¾æ¥ï¼ˆå»ºè®®æ›¿æ¢ä¸ºè‡ªå·±çš„éŸ³ä¹æ–‡ä»¶ï¼‰
            audio = new Audio('https://cdn.pixabay.com/audio/2022/03/08/audio_6b46dd5658.mp3');
            audio.volume = 0.3;
            
            // é¢„åŠ è½½éŸ³ä¹
            audio.preload = 'auto';
            
            // ç»Ÿä¸€æ’­æ”¾æ–¹æ³•
            const playAudio = () => {
                audio.play()
                    .then(() => {
                        // æ’­æ”¾æˆåŠŸåç§»é™¤æŒ‰é’®
                        if (playButton) {
                            playButton.remove();
                            playButton = null;
                        }
                    })
                    .catch((error) => {
                        console.log('æ’­æ”¾å¤±è´¥:', error);
                        createPlayButton();
                    });
            };

            // åˆ›å»ºæ’­æ”¾æŒ‰é’®ï¼ˆå•ä¾‹æ¨¡å¼ï¼‰
            const createPlayButton = () => {
                if (!playButton) {
                    playButton = document.createElement('button');
                    playButton.textContent = 'ğŸµ ç‚¹å‡»æ’­æ”¾éŸ³ä¹';
                    playButton.style.cssText = `
                        margin: 15px;
                        padding: 12px 24px;
                        border: none;
                        border-radius: 25px;
                        background: #ff4081;
                        color: white;
                        font-size: 1rem;
                    `;
                    playButton.addEventListener('click', () => {
                        playAudio();
                        playButton.blur(); // ç§»é™¤ç‚¹å‡»åçš„ç„¦ç‚¹çŠ¶æ€
                    });
                    document.querySelector('.container').appendChild(playButton);
                }
            };

            // ç”¨æˆ·äº¤äº’ååˆå§‹åŒ–æ’­æ”¾
            const startPlay = () => {
                try {
                    // å°è¯•è‡ªåŠ¨æ’­æ”¾
                    playAudio();
                } catch (error) {
                    createPlayButton();
                }
                // ç§»é™¤äº‹ä»¶ç›‘å¬ï¼ˆåªæ‰§è¡Œä¸€æ¬¡ï¼‰
                document.removeEventListener(triggerEvent, startPlay);
            };

            // è‡ªåŠ¨æ£€æµ‹è®¾å¤‡ç±»å‹
            const triggerEvent = 'ontouchstart' in window ? 'touchstart' : 'click';
            document.addEventListener(triggerEvent, startPlay, { once: true });
        };

        // å…¶ä»–åŸæœ‰ä»£ç ä¿æŒä¸å˜...
        initMusic();
    </script>
</body>
</html>
